{"version":3,"file":"static/webpack/static/development/pages/index.js.057ab81225694eafee7e.hot-update.js","sources":["webpack:///./pages/index.tsx"],"sourcesContent":["import * as React from \"react\";\nimport product, { produce } from \"immer\";\nimport nanoid from \"nanoid\";\n\ntype Todo = {\n  id: string;\n  name: string;\n  createdAt: string;\n  completed: boolean;\n};\ntype State = { todos: Todo[]; currentTodo: string };\ntype Action =\n  | { type: \"add\" | \"update\" | \"delete\"; payload: Todo }\n  | { type: \"set-current\"; payload: string };\n\nconst reducer: React.Reducer<State, Action> = (state, action) => {\n  switch (action.type) {\n    case \"set-current\": {\n      return produce(state, draft => {\n        draft.currentTodo = action.payload;\n      });\n    }\n    case \"add\": {\n      return produce(state, draft => {\n        draft.todos.push(action.payload);\n      });\n    }\n    case \"update\": {\n      const todoIndex = state.todos.findIndex(\n        todo => todo.id === action.payload.id\n      );\n      if (todoIndex === -1) return state;\n      return produce(state, draft => {\n        draft.todos[todoIndex] = { ...action.payload };\n      });\n    }\n    case \"delete\": {\n      const todoIndex = state.todos.findIndex(\n        todo => todo.id === action.payload.id\n      );\n      if (todoIndex === -1) return state;\n      return produce(state, draft => {\n        draft.todos.splice(todoIndex, 1);\n      });\n    }\n    default: {\n      throw new Error(`Unsupported action ${JSON.stringify(action)}`);\n    }\n  }\n};\n\nconst App = () => {\n  const [state, dispatch] = React.useReducer(reducer, {\n    currentTodo: \"\",\n    todos: []\n  });\n  const add = () => {\n    dispatch({\n      type: \"add\",\n      payload: {\n        id: nanoid(),\n        name: state.currentTodo,\n        completed: false,\n        createdAt: `${Date.now()}`\n      }\n    });\n    dispatch({ type: \"set-current\", payload: \"\" });\n  };\n  const edit = (todo: Todo) => {\n    dispatch({ type: \"update\", payload: todo });\n  };\n  const del = (todo: Todo) => {\n    dispatch({ type: \"delete\", payload: todo });\n  };\n  return (\n    <>\n      <header>\n        <h2>To Do List</h2>\n      </header>\n      <main>\n        <form\n          onSubmit={event => {\n            event.preventDefault();\n            add(state.currentTodo);\n          }}\n        >\n          <input\n            type=\"text\"\n            value={state.currentTodo}\n            onChange={event => {\n              dispatch({ type: \"set-current\", payload: event.target.value });\n            }}\n          />\n          <button type=\"submit\">Add</button>\n        </form>\n        <ul>\n          {state.todos.map(todo => (\n            <li key={todo.id}>\n              <input\n                type=\"text\"\n                value={todo.name}\n                onChange={event => {\n                  edit({ ...todo, name: event.target.value });\n                }}\n              />\n              <button\n                onClick={() => {\n                  del(todo);\n                }}\n              >\n                Delete\n              </button>\n            </li>\n          ))}\n        </ul>\n      </main>\n    </>\n  );\n};\n\nexport default App;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAYA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AA/BA;AAiCA;AACA;AACA;AAAA;AAEA;AACA;AAFA;AADA;AAAA;AAAA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAFA;AASA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AATA;AAsBA;AACA;AACA;;;;A","sourceRoot":""}